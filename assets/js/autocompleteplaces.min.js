(function(e){function a(){e("#location_country").val(""),e("#location_admin1").val(""),e("#location_admin2").val(""),e("#location_city").val("");var a=d.getPlace();p.data("clearedvalue",p.val()),null!=a.address_components&&a.address_components.forEach(function(a){a.types.includes("country")?(e("#location_country").val(a.long_name),e("#location_countrycode").val(a.short_name),e.log("Country: "+a.long_name)):a.types.includes("administrative_area_level_1")?(e("#location_admin1").val(a.long_name),e("#location_admin1code").val(a.short_name),e.log("State/Province: "+a.long_name)):a.types.includes("administrative_area_level_2")?(e("#location_admin2").val(a.long_name),e.log("County: "+a.long_name)):a.types.includes("locality")&&(e("#location_city").val(a.long_name),e.log("City: "+a.long_name))}),p.trigger("autocompleteplaces_placepicked")}function n(){var a=e('<input type="hidden" name="placeString[]">'),n=e('<input type="hidden" name="country[]">'),l=e('<input type="hidden" name="admin1[]">'),t=e('<input type="hidden" name="admin2[]">'),o=e('<input type="hidden" name="city[]">'),c=d.getPlace();a.val(p.val()),null!=c.address_components&&c.address_components.forEach(function(e){e.types.includes("country")?n.val(e.long_name):e.types.includes("administrative_area_level_1")?l.val(e.long_name):e.types.includes("administrative_area_level_2")?t.val(e.long_name):e.types.includes("locality")&&o.val(e.long_name)});var s=e('<div class="multiplacevalues list-group-item"><a href="#" class="removeable float-end"><i class="fas fa-times-square"></i></a><i class="fas fa-fw fa-map-marker-alt"></i> '+a.val()+"</div>");s.append(a).append(n).append(l).append(t).append(o),i.append(s),p.val("")}function l(a){var n=e(this).parent(".multiplacevalues");n.remove(),a.preventDefault()}function t(a){s||(e("#location_country").val().length?p.data("clearedvalue").length&&p.val(p.data("clearedvalue")):p.val(""))}function o(e){s||p.data("clearedvalue",p.val()).val("")}var c=e("#autocompleteplaces_wrapper"),i=e("#multiplacevalues_wrapper"),p=e("#location_picker"),d=new google.maps.places.Autocomplete(p.get(0),{types:["(regions)"]}),s=c.data("multiple");d.setFields(["address_component","place_id","geometry"]),d.addListener("place_changed",s?n:a),e(document).on("keydown.autocompleteplaces","#location_picker",function(e){if(13==e.keyCode)return e.preventDefault(),!1}),e(document).on("click.autocompleteplacesremove","a.removeable",l),e(document).on("blur.autocompleteplaces","#location_picker",t),e(document).on("focus.autocompleteplaces","#location_picker",o)})(window.jQuery);